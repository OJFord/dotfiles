[bar/one]
    background = #002b36
    fixed-center = true
    font-0 = "monospace:size=10"
    font-1 = "Symbols Nerd Font:size=10"
    font-2 = "JoyPixels:scale=10"
    locale = en_GB.UTF-8
    module-margin = 1
    modules-left = i3 cpu memory filesystem pkgupdates gh-issues
    modules-center = date
    modules-right = spotify pulseaudio-control
    tray-position = right

[module/cpu]
    type = internal/cpu
    format = <ramp-coreload>
    ramp-coreload-0 = ▁
    ramp-coreload-1 = ▂
    ramp-coreload-2 = ▃
    ramp-coreload-3 = ▄
    ramp-coreload-4 = ▅
    ramp-coreload-5 = ▆
    ramp-coreload-6 = ▇
    ramp-coreload-7 = █

[module/filesystem]
    type = internal/fs
    label-mounted = "%free%"
    mount-0 = /

[module/gh-issues]
    type = custom/script
    exec = polybar-gh-issues | jq -r 'length'
    interval = 900
    format-prefix = " "
    label = "%output%"
    click-left = polybar-gh-issues --open

[module/memory]
    type = internal/memory

[module/pulseaudio-control]
    type = custom/script
    exec = pulseaudio-control --icon-sink='⇉ ' --sink-nicknames-from='device.description' --icons-volume=' , , ' listen
    click-left = pulseaudio-control next-sink
    click-right = exec pavucontrol &
    scroll-up = pulseaudio-control --volume-max 130 up
    scroll-down = pulseaudio-control --volume-max 130 down
    tail = true
    label = "%output%"
    label-padding = 2

[module/date]
    type = internal/date
    interval = 15
    date = %d/%m
    time = %H:%M
    label = "%date%  %time%"

[module/i3]
    type = internal/i3
    label-focused = "%index%"
    label-focused-padding = 1
    label-focused-background = #888
    label-unfocused = %index%
    pin-workspaces = true
    strip-wsnumbers = true

[module/pkgupdates]
    type = custom/script
    exec = polybar-pkgupdates
    format-prefix = " "
    format-prefix-foreground = #5b
    format-underline = #dc322f
    interval = 1200
    label = "%output:0:7%"
    click-left = polybar-pkgupdates --open

[module/spotify]
    type = custom/script
    interval = 1
    format-prefix = "♫ "
    format-suffix = " ♫"
    format = <label>
    exec = polybar-spotify -f '{artist}: {song}'
    format-underline = #1db954
